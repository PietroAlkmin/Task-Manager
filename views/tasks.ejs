<h2>Minhas Tarefas</h2>
<div class="task-container">
  <div class="task-filters">
    <select id="priorityFilter">
      <option value="all">Todas as Prioridades</option>
      <option value="high">Alta</option>
      <option value="medium">Média</option>
      <option value="low">Baixa</option>
    </select>
    <select id="statusFilter">
      <option value="all">Todos os Status</option>
      <option value="pending">Pendente</option>
      <option value="in_progress">Em Andamento</option>
      <option value="completed">Concluída</option>
    </select>
  </div>

  <button id="addTaskBtn" class="btn-primary">Nova Tarefa</button>

  <div id="tasksList">
    <p>Carregando tarefas...</p>
  </div>
</div>

<script>
  // Função para buscar usuários da API e renderizar na tabela
  async function fetchUsers() {
    try {
      const response = await fetch('/users');
      if (!response.ok) {
        throw new Error('Erro ao buscar usuários');
      }
      const users = await response.json();

      const tableBody = document.querySelector('#usersTable tbody');
      tableBody.innerHTML = ''; // Limpa o conteúdo anterior

      if (users.length > 0) {
        users.forEach(user => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td>${user.email}</td>
          `;
          tableBody.appendChild(row);
        });
      } else {
        tableBody.innerHTML = '<tr><td colspan="3">Nenhum usuário encontrado.</td></tr>';
      }
    } catch (error) {
      console.error(error);
      const tableBody = document.querySelector('#usersTable tbody');
      tableBody.innerHTML = '<tr><td colspan="3">Erro ao carregar usuários.</td></tr>';
    }
  }

  // Chama a função ao carregar a página
  fetchUsers();
</script>